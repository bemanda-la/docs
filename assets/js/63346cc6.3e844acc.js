"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[493],{6996:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"webhooks/handle-webhooks","title":"Endpoints: Webhooks","description":"Esta secci\xf3n detalla el funcionamiento y uso de los endpoints relacionados con webhooks en nuestra API. Los webhooks permiten la recepci\xf3n de notificaciones en tiempo real sobre eventos relevantes en nuestra plataforma. A continuaci\xf3n, se describen los diferentes endpoints y sus prop\xf3sitos.","source":"@site/docs/webhooks/handle-webhooks.mdx","sourceDirName":"webhooks","slug":"/webhooks/handle-webhooks","permalink":"/docs/webhooks/handle-webhooks","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"guides","previous":{"title":"Introducci\xf3n a Webhooks","permalink":"/docs/webhooks/"},"next":{"title":"Documentaci\xf3n de Eventos de Webhooks","permalink":"/docs/webhooks/events"}}');var r=s(4848),l=s(8453);const i={},d="Endpoints: Webhooks",t={},c=[{value:"<strong>Estados de los webhooks</strong>",id:"estados-de-los-webhooks",level:2},{value:"<strong>1. Obtener todos los webhooks</strong>",id:"1-obtener-todos-los-webhooks",level:2},{value:"<strong>Endpoint</strong>",id:"endpoint",level:3},{value:"<strong>Descripci\xf3n</strong>",id:"descripci\xf3n",level:3},{value:"<strong>Ejemplo de solicitud</strong>",id:"ejemplo-de-solicitud",level:3},{value:"<strong>Ejemplo de respuesta</strong>",id:"ejemplo-de-respuesta",level:3},{value:"<strong>2. Obtener un webhook espec\xedfico</strong>",id:"2-obtener-un-webhook-espec\xedfico",level:2},{value:"<strong>Endpoint</strong>",id:"endpoint-1",level:3},{value:"<strong>Descripci\xf3n</strong>",id:"descripci\xf3n-1",level:3},{value:"<strong>Ejemplo de solicitud</strong>",id:"ejemplo-de-solicitud-1",level:3},{value:"<strong>Ejemplo de respuesta</strong>",id:"ejemplo-de-respuesta-1",level:3},{value:"<strong>3. Crear un webhook</strong>",id:"3-crear-un-webhook",level:2},{value:"<strong>Endpoint</strong>",id:"endpoint-2",level:3},{value:"<strong>Descripci\xf3n</strong>",id:"descripci\xf3n-2",level:3},{value:"<strong>Ejemplo de solicitud</strong>",id:"ejemplo-de-solicitud-2",level:3},{value:"<strong>Ejemplo de respuesta</strong>",id:"ejemplo-de-respuesta-2",level:3},{value:"<strong>4. Actualizar un webhook</strong>",id:"4-actualizar-un-webhook",level:2},{value:"<strong>Endpoint</strong>",id:"endpoint-3",level:3},{value:"<strong>Descripci\xf3n</strong>",id:"descripci\xf3n-3",level:3},{value:"<strong>Ejemplo de solicitud</strong>",id:"ejemplo-de-solicitud-3",level:3},{value:"<strong>Ejemplo de respuesta</strong>",id:"ejemplo-de-respuesta-3",level:3},{value:"<strong>5. Reintentar el challenge de un webhook</strong>",id:"5-reintentar-el-challenge-de-un-webhook",level:2},{value:"<strong>Endpoint</strong>",id:"endpoint-4",level:3},{value:"<strong>Descripci\xf3n</strong>",id:"descripci\xf3n-4",level:3},{value:"<strong>Ejemplo de solicitud</strong>",id:"ejemplo-de-solicitud-4",level:3},{value:"<strong>Ejemplo de respuesta</strong>",id:"ejemplo-de-respuesta-4",level:3},{value:"<strong>6. Reactivar un webhook pausado</strong>",id:"6-reactivar-un-webhook-pausado",level:2},{value:"<strong>Endpoint</strong>",id:"endpoint-5",level:3},{value:"<strong>Descripci\xf3n</strong>",id:"descripci\xf3n-5",level:3},{value:"<strong>Ejemplo de solicitud</strong>",id:"ejemplo-de-solicitud-5",level:3},{value:"<strong>Ejemplo de respuesta</strong>",id:"ejemplo-de-respuesta-5",level:3},{value:"<strong>7. Eliminar un webhook</strong>",id:"7-eliminar-un-webhook",level:2},{value:"<strong>Endpoint</strong>",id:"endpoint-6",level:3},{value:"<strong>Descripci\xf3n</strong>",id:"descripci\xf3n-6",level:3},{value:"<strong>Ejemplo de solicitud</strong>",id:"ejemplo-de-solicitud-6",level:3},{value:"<strong>Ejemplo de respuesta</strong>",id:"ejemplo-de-respuesta-6",level:3},{value:"<strong>6. Mejoras y mejores pr\xe1cticas para los webhooks</strong>",id:"6-mejoras-y-mejores-pr\xe1cticas-para-los-webhooks",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"endpoints-webhooks",children:"Endpoints: Webhooks"})}),"\n",(0,r.jsx)(n.p,{children:"Esta secci\xf3n detalla el funcionamiento y uso de los endpoints relacionados con webhooks en nuestra API. Los webhooks permiten la recepci\xf3n de notificaciones en tiempo real sobre eventos relevantes en nuestra plataforma. A continuaci\xf3n, se describen los diferentes endpoints y sus prop\xf3sitos."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"estados-de-los-webhooks",children:(0,r.jsx)(n.strong,{children:"Estados de los webhooks"})}),"\n",(0,r.jsx)(n.p,{children:"Los webhooks pueden estar en uno de los siguientes estados:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ACTIVE"}),": Son los webhooks que est\xe1n activos y funcionando correctamente."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"PAUSED"}),": Webhooks pausados debido a errores al intentar ejecutar las solicitudes hacia su URL configurada."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"PENDING"}),": Webhooks que a\xfan no han pasado el proceso de verificaci\xf3n (challenge)."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"1-obtener-todos-los-webhooks",children:(0,r.jsx)(n.strong,{children:"1. Obtener todos los webhooks"})}),"\n",(0,r.jsx)(n.h3,{id:"endpoint",children:(0,r.jsx)(n.strong,{children:"Endpoint"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"GET /webhooks"})}),"\n",(0,r.jsx)(n.h3,{id:"descripci\xf3n",children:(0,r.jsx)(n.strong,{children:"Descripci\xf3n"})}),"\n",(0,r.jsx)(n.p,{children:"Este endpoint devuelve una lista de todos los webhooks registrados en tu cuenta."}),"\n",(0,r.jsx)(n.h3,{id:"ejemplo-de-solicitud",children:(0,r.jsx)(n.strong,{children:"Ejemplo de solicitud"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"GET /webhooks HTTP/1.1\nHost: api.example.com\nAuthorization: Bearer <token>\n"})}),"\n",(0,r.jsx)(n.h3,{id:"ejemplo-de-respuesta",children:(0,r.jsx)(n.strong,{children:"Ejemplo de respuesta"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": [\n    {\n        "id": "d91cfd6c-cb8f-40df-8f3f-142872df2122",\n        "url": "http://localhost:3000/challenge_test",\n        "challenge": "7f4d44b0-17dc-410d-a4dc-7d4527349b9a",\n        "secret": "pruebaa",\n        "status": "ACTIVE",\n        "created_at": "2025-01-29T14:13:31.018Z",\n        "updated_at": "2025-01-30T18:24:15.384Z"\n    },\n    {\n        "id": "9da82a17-c28a-4a8f-82ba-b3b9bdbca825",\n        "url": "http://localhost:3000/webhooks/challenge_test",\n        "challenge": "52ba0b3f-27a7-4303-b4a7-13a89b434006",\n        "secret": "prueba",\n        "status": "PAUSED",\n        "created_at": "2025-01-30T18:31:22.656Z",\n        "updated_at": "2025-01-30T18:31:22.656Z"\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"2-obtener-un-webhook-espec\xedfico",children:(0,r.jsx)(n.strong,{children:"2. Obtener un webhook espec\xedfico"})}),"\n",(0,r.jsx)(n.h3,{id:"endpoint-1",children:(0,r.jsx)(n.strong,{children:"Endpoint"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"GET /webhooks/:id"})}),"\n",(0,r.jsx)(n.h3,{id:"descripci\xf3n-1",children:(0,r.jsx)(n.strong,{children:"Descripci\xf3n"})}),"\n",(0,r.jsx)(n.p,{children:"Obtiene la informaci\xf3n de un webhook espec\xedfico seg\xfan su ID."}),"\n",(0,r.jsx)(n.h3,{id:"ejemplo-de-solicitud-1",children:(0,r.jsx)(n.strong,{children:"Ejemplo de solicitud"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"GET /webhooks/d91cfd6c-cb8f-40df-8f3f-142872df2122 HTTP/1.1\nHost: api.example.com\nAuthorization: Bearer <token>\n"})}),"\n",(0,r.jsx)(n.h3,{id:"ejemplo-de-respuesta-1",children:(0,r.jsx)(n.strong,{children:"Ejemplo de respuesta"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "success": true,\n    "data": {\n        "id": "9da82a17-c28a-4a8f-82ba-b3b9bdbca825",\n        "url": "http://localhost:3000/webhooks/challenge_test",\n        "events": [\n            "user.create"\n        ],\n        "secret": "prueba",\n        "status": "ACTIVE",\n        "challenge": "52ba0b3f-27a7-4303-b4a7-13a89b434006",\n        "created_at": "2025-01-30T18:31:22.656Z",\n        "updated_at": "2025-01-30T18:31:22.656Z"\n    },\n    "pagination": null,\n    "error": null\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"3-crear-un-webhook",children:(0,r.jsx)(n.strong,{children:"3. Crear un webhook"})}),"\n",(0,r.jsx)(n.h3,{id:"endpoint-2",children:(0,r.jsx)(n.strong,{children:"Endpoint"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"POST /webhooks"})}),"\n",(0,r.jsx)(n.h3,{id:"descripci\xf3n-2",children:(0,r.jsx)(n.strong,{children:"Descripci\xf3n"})}),"\n",(0,r.jsx)(n.p,{children:"Registra un nuevo webhook."}),"\n",(0,r.jsx)(n.h3,{id:"ejemplo-de-solicitud-2",children:(0,r.jsx)(n.strong,{children:"Ejemplo de solicitud"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "url": "http://localhost:3000/webhooks/challenge_test",\n  "events": ["user.create"],\n  "secret": "prueba"\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"ejemplo-de-respuesta-2",children:(0,r.jsx)(n.strong,{children:"Ejemplo de respuesta"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "id": "12345",\n    "url": "http://localhost:3000/webhooks/challenge_test",\n    "events": ["user.create"],\n    "secret": "prueba",\n    "status": "PENDING",\n    "challenge": "52ba0b3f-27a7-4303-b4a7-13a89b434006"\n    "created_at": "2025-01-27T10:00:00Z"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"4-actualizar-un-webhook",children:(0,r.jsx)(n.strong,{children:"4. Actualizar un webhook"})}),"\n",(0,r.jsx)(n.h3,{id:"endpoint-3",children:(0,r.jsx)(n.strong,{children:"Endpoint"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"PATCH /webhooks/:id"})}),"\n",(0,r.jsx)(n.h3,{id:"descripci\xf3n-3",children:(0,r.jsx)(n.strong,{children:"Descripci\xf3n"})}),"\n",(0,r.jsxs)(n.p,{children:["Permite actualizar un webhook existente. Se pueden modificar ",(0,r.jsx)(n.strong,{children:"parcialmente"})," los campos sin afectar los dem\xe1s."]}),"\n",(0,r.jsx)(n.h3,{id:"ejemplo-de-solicitud-3",children:(0,r.jsx)(n.strong,{children:"Ejemplo de solicitud"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "url": "http://localhost:3000/challenge_test",\n  "events": ["user.create", "user.update"],\n  "secret": "pruebaa"\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"ejemplo-de-respuesta-3",children:(0,r.jsx)(n.strong,{children:"Ejemplo de respuesta"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "success": true,\n    "data": {\n        "id": "d91cfd6c-cb8f-40df-8f3f-142872df2122",\n        "url": "http://localhost:3000/challenge_test",\n        "events": [\n            "user.create",\n            "user.update"\n        ],\n        "secret": "pruebaa",\n        "status": "ACTIVE",\n        "challenge": "7f4d44b0-17dc-410d-a4dc-7d4527349b9a",\n        "created_at": "2025-01-29T14:13:31.018Z",\n        "updated_at": "2025-01-30T19:03:39.367Z"\n    },\n    "pagination": null,\n    "error": null\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"5-reintentar-el-challenge-de-un-webhook",children:(0,r.jsx)(n.strong,{children:"5. Reintentar el challenge de un webhook"})}),"\n",(0,r.jsx)(n.h3,{id:"endpoint-4",children:(0,r.jsx)(n.strong,{children:"Endpoint"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"POST /webhooks/:id/retry-challenge"})}),"\n",(0,r.jsx)(n.h3,{id:"descripci\xf3n-4",children:(0,r.jsx)(n.strong,{children:"Descripci\xf3n"})}),"\n",(0,r.jsx)(n.p,{children:"Reintenta el proceso de verificaci\xf3n del webhook enviando un challenge nuevamente."}),"\n",(0,r.jsx)(n.h3,{id:"ejemplo-de-solicitud-4",children:(0,r.jsx)(n.strong,{children:"Ejemplo de solicitud"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"POST /webhooks/be19aa21-95e8-4398-a856-e77f211a5cc5/retry-challenge HTTP/1.1\nHost: api.example.com\nAuthorization: Bearer <token>\n"})}),"\n",(0,r.jsx)(n.h3,{id:"ejemplo-de-respuesta-4",children:(0,r.jsx)(n.strong,{children:"Ejemplo de respuesta"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "success": true,\n    "data": null,\n    "pagination": null,\n    "error": null\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"6-reactivar-un-webhook-pausado",children:(0,r.jsx)(n.strong,{children:"6. Reactivar un webhook pausado"})}),"\n",(0,r.jsx)(n.h3,{id:"endpoint-5",children:(0,r.jsx)(n.strong,{children:"Endpoint"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"POST /webhooks/:id/resume"})}),"\n",(0,r.jsx)(n.h3,{id:"descripci\xf3n-5",children:(0,r.jsx)(n.strong,{children:"Descripci\xf3n"})}),"\n",(0,r.jsxs)(n.p,{children:["Cambia el estado de un webhook de ",(0,r.jsx)(n.code,{children:"PAUSED"})," a ",(0,r.jsx)(n.code,{children:"ACTIVE"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"ejemplo-de-solicitud-5",children:(0,r.jsx)(n.strong,{children:"Ejemplo de solicitud"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"POST /webhooks/be19aa21-95e8-4398-a856-e77f211a5cc5/resume HTTP/1.1\nHost: api.example.com\nAuthorization: Bearer <token>\n"})}),"\n",(0,r.jsx)(n.h3,{id:"ejemplo-de-respuesta-5",children:(0,r.jsx)(n.strong,{children:"Ejemplo de respuesta"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "success": true,\n    "data": null,\n    "pagination": null,\n    "error": null\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"7-eliminar-un-webhook",children:(0,r.jsx)(n.strong,{children:"7. Eliminar un webhook"})}),"\n",(0,r.jsx)(n.h3,{id:"endpoint-6",children:(0,r.jsx)(n.strong,{children:"Endpoint"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"DELETE /webhooks/:id"})}),"\n",(0,r.jsx)(n.h3,{id:"descripci\xf3n-6",children:(0,r.jsx)(n.strong,{children:"Descripci\xf3n"})}),"\n",(0,r.jsx)(n.p,{children:"Elimina un webhook por su ID."}),"\n",(0,r.jsx)(n.h3,{id:"ejemplo-de-solicitud-6",children:(0,r.jsx)(n.strong,{children:"Ejemplo de solicitud"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"DELETE /webhooks/f7a31ccd-c5d4-4c99-b00a-3c303180dd65 HTTP/1.1\nHost: api.example.com\nAuthorization: Bearer <token>\n"})}),"\n",(0,r.jsx)(n.h3,{id:"ejemplo-de-respuesta-6",children:(0,r.jsx)(n.strong,{children:"Ejemplo de respuesta"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "success": true,\n    "data": null,\n    "pagination": null,\n    "error": null\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"6-mejoras-y-mejores-pr\xe1cticas-para-los-webhooks",children:(0,r.jsx)(n.strong,{children:"6. Mejoras y mejores pr\xe1cticas para los webhooks"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Verificaciones previas:"})," Antes de reintentar un challenge o reactivar un webhook, valida que el estado actual permita la operaci\xf3n."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Logs detallados:"})," Registra todos los intentos de reintento o reactivaci\xf3n para facilitar la depuraci\xf3n."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Uso de HTTPS:"})," Aseg\xfarate de que las URLs configuradas para los webhooks utilicen HTTPS para proteger la comunicaci\xf3n."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tiempo de respuesta:"})," Dise\xf1a tu sistema para responder a las solicitudes de webhooks en menos de 5 segundos."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:["Para m\xe1s informaci\xf3n sobre c\xf3mo configurar los webhooks y sus validaciones, consulta nuestra ",(0,r.jsx)(n.a,{href:"/docs/webhooks/",children:"gu\xeda principal de webhooks"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>d});var o=s(6540);const r={},l=o.createContext(r);function i(e){const n=o.useContext(l);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),o.createElement(l.Provider,{value:n},e.children)}}}]);